import{g as e,t,q as a,l as s,y as l,z as o,A as d,C as i,D as r,c as n,w as u,i as c,o as f,a as g,b as _,E as p,F as h,G as m,H as k,e as y,J as I}from"./index-CcRA1RUw.js";import{r as b,_ as C}from"./uni-app.es.2SZY3XeM.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const D=v({data:()=>({likedPosts:[]}),onShow(){this.loadLikes()},onPullDownRefresh(){this.loadLikes(),setTimeout((()=>{e()}),1e3)},methods:{loadLikes(){const e=t();if(!e)return void a({url:"/pages/login/login"});const l=s();this.likedPosts=l.filter((t=>t.likes&&t.likes.includes(e.id)))},goToDetail(e){a({url:`/pages/detail/detail?id=${e}`})},formatDate(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()}`},getLevel:e=>l(e),getPoints:e=>o(e),getAvatar:e=>d(e),getCategoryName(e){if("circle"===e.categoryId)return`å¹æ°´å»£å ´ > ${e.subCategoryId}`;if(e.categoryId){const t=i.find((t=>t.id===e.categoryId));if(t){let a=t.name;if(e.subCategoryId&&t.children){const s=t.children.find((t=>t.id===e.subCategoryId));s&&(a+=` > ${s.name}`)}return a}}return""}}},[["render",function(e,t,a,s,l,o){const d=y,i=c,v=b(r("app-tab-bar"),C);return f(),n(i,{class:"container"},{default:u((()=>[g(i,{class:"notice-bar"},{default:u((()=>[g(i,{class:"notice-content"},{default:u((()=>[g(d,{class:"notice-text"},{default:u((()=>[_("ğŸ“¢ æœ¬ç‰ˆç‰ˆè¦ï¼šåš´ç¦ç™¼ä½ˆä»»ä½•è‰²æƒ…ã€æš´åŠ›ã€è³­åšåŠè©é¨™è¨Šæ¯ã€‚è«‹ä¿æŒç¦®è²Œï¼Œå°Šé‡ä»–äººã€‚é•è€…å°‡è¢«å°ç¦ã€‚")])),_:1})])),_:1})])),_:1}),g(i,{class:"header"},{default:u((()=>[g(d,null,{default:u((()=>[_("æˆ‘è®šå¥½çš„å¸–å­")])),_:1})])),_:1}),g(i,{class:"post-list"},{default:u((()=>[(f(!0),p(m,null,h(l.likedPosts,((e,t)=>(f(),n(i,{key:t,class:"post-card",onClick:t=>o.goToDetail(e.id)},{default:u((()=>[g(i,{class:"post-header"},{default:u((()=>[g(i,{class:"author-row"},{default:u((()=>[g(d,{class:"post-author"},{default:u((()=>[_(I(e.authorName),1)])),_:2},1024),e.authorId?(f(),n(i,{key:0,class:"user-stats"},{default:u((()=>[g(d,{class:"stat-badge level"},{default:u((()=>[_("Lv."+I(o.getLevel(e.authorId)),1)])),_:2},1024),g(d,{class:"stat-badge points"},{default:u((()=>[_("ğŸ”¥"+I(o.getPoints(e.authorId)),1)])),_:2},1024)])),_:2},1024)):k("",!0)])),_:2},1024),g(d,{class:"post-time"},{default:u((()=>[_(I(o.formatDate(e.timestamp)),1)])),_:2},1024)])),_:2},1024),g(d,{class:"post-title"},{default:u((()=>[_(I(e.title),1)])),_:2},1024),o.getCategoryName(e)?(f(),n(i,{key:0,class:"category-tag"},{default:u((()=>[g(d,null,{default:u((()=>[_("#"+I(o.getCategoryName(e)),1)])),_:2},1024)])),_:2},1024)):k("",!0),g(i,{class:"like-info"},{default:u((()=>[g(d,null,{default:u((()=>[_("â¤ï¸ "+I(e.likes?e.likes.length:0),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),0===l.likedPosts.length?(f(),n(i,{key:0,class:"empty-state"},{default:u((()=>[g(d,null,{default:u((()=>[_("æš«ç„¡è®šå¥½å¸–å­")])),_:1})])),_:1})):k("",!0)])),_:1}),g(v)])),_:1})}],["__scopeId","data-v-9d1f8ca7"]]);export{D as default};
